{"ast":null,"code":"import _classCallCheck from\"C:/gitHub/retube-reactApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/gitHub/retube-reactApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/gitHub/retube-reactApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/gitHub/retube-reactApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import*as React from\"react\";import{ComingNextStyled,ComingNextImageStyled,ComingNextTopStyled,ComingNextHeaderStyled,ComingNextAutoplayStyled,ComingNextTitleStyled,ComingNextIconStyled,ComingNextBottomStyled,ComingNextButtonStyled}from\"./styles\";import{showSpinnerNextVideo}from\"../../utils\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NEXT_DURATION=3;var CommingNext=/*#__PURE__*/function(_React$Component){_inherits(CommingNext,_React$Component);var _super=_createSuper(CommingNext);function CommingNext(){var _this;_classCallCheck(this,CommingNext);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.time=void 0;_this.state={count:NEXT_DURATION};_this.launchNextVideoClip=function(){if(_this.props.onClickPlaylistAction){_this.props.onClickPlaylistAction(_this.props.nextVideoClip);}clearInterval(_this.time);};_this.handleStopTime=function(){var onChangeAutoPlay=_this.props.onChangeAutoPlay;if(onChangeAutoPlay){onChangeAutoPlay(false);}};return _this;}_createClass(CommingNext,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.time=setInterval(function(){var newCount=_this2.state.count-1;_this2.setState({count:newCount});if(newCount===0){_this2.launchNextVideoClip();}},1000);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){clearInterval(this.time);this.setState({count:NEXT_DURATION});}},{key:\"render\",value:function render(){var nextVideoClip=this.props.nextVideoClip;return/*#__PURE__*/_jsxs(ComingNextStyled,{children:[/*#__PURE__*/_jsx(ComingNextImageStyled,{image:nextVideoClip.image}),/*#__PURE__*/_jsxs(ComingNextTopStyled,{children:[/*#__PURE__*/_jsx(ComingNextHeaderStyled,{children:\"Up Next\"}),/*#__PURE__*/_jsx(ComingNextTitleStyled,{children:nextVideoClip.title})]}),/*#__PURE__*/_jsxs(ComingNextAutoplayStyled,{onClick:this.launchNextVideoClip,children:[/*#__PURE__*/_jsx(ComingNextIconStyled,{children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-step-forward\"})}),/*#__PURE__*/_jsxs(\"svg\",{height:\"100%\",version:\"1.1\",viewBox:\"0 0 72 72\",width:\"100%\",children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"36\",cy:\"36\",fill:\"#fff\",fillOpacity:\"0.3\",r:\"31.5\"}),/*#__PURE__*/_jsx(\"circle\",{className:\"fill-up\",cx:\"-36\",cy:\"36\",fillOpacity:\"0\",r:\"33.5\",stroke:\"#FFFFFF\",strokeDasharray:\"211\",strokeDashoffset:\"-211\",strokeWidth:\"4\",transform:\"rotate(-90)\"})]})]}),/*#__PURE__*/_jsx(ComingNextBottomStyled,{children:/*#__PURE__*/_jsx(ComingNextButtonStyled,{onClick:this.handleStopTime,children:\"CANCEL\"})})]});}}]);return CommingNext;}(React.Component);var WrapperComingNext=function WrapperComingNext(props){var autoPlaylist=props.autoPlaylist,endTime=props.currentVideoClip.endTime,nextVideoClip=props.nextVideoClip,onChangeAutoPlaylist=props.onChangeAutoPlaylist,onClickPlaylistAction=props.onClickPlaylistAction,_props$provider=props.provider,currentTime=_props$provider.currentTime,duration=_props$provider.duration;if(showSpinnerNextVideo(currentTime,endTime,duration,autoPlaylist)&&onClickPlaylistAction&&nextVideoClip){return/*#__PURE__*/_jsx(CommingNext,{onChangeAutoPlay:onChangeAutoPlaylist,nextVideoClip:nextVideoClip,onClickPlaylistAction:onClickPlaylistAction});}return null;};export default WrapperComingNext;","map":{"version":3,"sources":["C:/gitHub/retube-reactApp/src/components/FullVideo/ComingNext.tsx"],"names":["React","ComingNextStyled","ComingNextImageStyled","ComingNextTopStyled","ComingNextHeaderStyled","ComingNextAutoplayStyled","ComingNextTitleStyled","ComingNextIconStyled","ComingNextBottomStyled","ComingNextButtonStyled","showSpinnerNextVideo","NEXT_DURATION","CommingNext","time","state","count","launchNextVideoClip","props","onClickPlaylistAction","nextVideoClip","clearInterval","handleStopTime","onChangeAutoPlay","setInterval","newCount","setState","image","title","Component","WrapperComingNext","autoPlaylist","endTime","currentVideoClip","onChangeAutoPlaylist","provider","currentTime","duration"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport Video from \"./Video\";\n\nimport { IPropsChildrens as IPropsFromFullVideo } from \"./FullVideo\";\nimport {\n  ComingNextStyled,\n  ComingNextImageStyled,\n  ComingNextTopStyled,\n  ComingNextHeaderStyled,\n  ComingNextAutoplayStyled,\n  ComingNextTitleStyled,\n  ComingNextIconStyled,\n  ComingNextBottomStyled,\n  ComingNextButtonStyled\n} from \"./styles\";\nimport { IVideoClip } from \"../types\";\nimport { showSpinnerNextVideo } from \"../../utils\";\n\nconst NEXT_DURATION = 3;\n\nclass CommingNext extends React.Component<\n  {\n    nextVideoClip: IVideoClip;\n    onChangeAutoPlay?: (autoPlay: boolean) => void;\n    onClickPlaylistAction: (videoClip: IVideoClip) => void;\n  },\n  { count: number }\n> {\n  public time;\n  public state = {\n    count: NEXT_DURATION\n  };\n\n  public componentDidMount() {\n    this.time = setInterval(() => {\n      const newCount = this.state.count - 1;\n      this.setState({ count: newCount });\n      if (newCount === 0) {\n        this.launchNextVideoClip();\n      }\n    }, 1000);\n  }\n\n  public componentWillUnmount() {\n    clearInterval(this.time);\n    this.setState({ count: NEXT_DURATION });\n  }\n\n  public launchNextVideoClip = () => {\n    if (this.props.onClickPlaylistAction) {\n      this.props.onClickPlaylistAction(this.props.nextVideoClip);\n    }\n    clearInterval(this.time);\n  };\n\n  public handleStopTime = () => {\n    const { onChangeAutoPlay } = this.props;\n    if (onChangeAutoPlay) {\n      onChangeAutoPlay(false);\n    }\n  };\n\n  public render() {\n    const { nextVideoClip } = this.props;\n\n    return (\n      <ComingNextStyled>\n        <ComingNextImageStyled image={nextVideoClip.image} />\n        <ComingNextTopStyled>\n          <ComingNextHeaderStyled>Up Next</ComingNextHeaderStyled>\n          <ComingNextTitleStyled>{nextVideoClip.title}</ComingNextTitleStyled>\n        </ComingNextTopStyled>\n        <ComingNextAutoplayStyled onClick={this.launchNextVideoClip}>\n          <ComingNextIconStyled>\n            <i className=\"fas fa-step-forward\" />\n          </ComingNextIconStyled>\n          <svg height=\"100%\" version=\"1.1\" viewBox=\"0 0 72 72\" width=\"100%\">\n            <circle cx=\"36\" cy=\"36\" fill=\"#fff\" fillOpacity=\"0.3\" r=\"31.5\" />\n            <circle\n              className=\"fill-up\"\n              cx=\"-36\"\n              cy=\"36\"\n              fillOpacity=\"0\"\n              r=\"33.5\"\n              stroke=\"#FFFFFF\"\n              strokeDasharray=\"211\"\n              strokeDashoffset=\"-211\"\n              strokeWidth=\"4\"\n              transform=\"rotate(-90)\"\n            />\n          </svg>\n        </ComingNextAutoplayStyled>\n        <ComingNextBottomStyled>\n          <ComingNextButtonStyled onClick={this.handleStopTime}>\n            CANCEL\n          </ComingNextButtonStyled>\n        </ComingNextBottomStyled>\n      </ComingNextStyled>\n    );\n  }\n}\n\ninterface IProps extends IPropsFromFullVideo {\n  video: Video;\n}\nconst WrapperComingNext: React.SFC<IProps> = props => {\n  const {\n    autoPlaylist,\n    currentVideoClip: { endTime },\n    nextVideoClip,\n\n    onChangeAutoPlaylist,\n    onClickPlaylistAction,\n    provider: { currentTime, duration }\n  } = props;\n\n  if (\n    showSpinnerNextVideo(currentTime, endTime, duration, autoPlaylist) &&\n    onClickPlaylistAction &&\n    nextVideoClip\n  ) {\n    return (\n      <CommingNext\n        onChangeAutoPlay={onChangeAutoPlaylist}\n        nextVideoClip={nextVideoClip}\n        onClickPlaylistAction={onClickPlaylistAction}\n      />\n    );\n  }\n  return null;\n};\n\nexport default WrapperComingNext;\n"]},"metadata":{},"sourceType":"module"}