{"ast":null,"code":"export var isiOS=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);export var isMobile=window.innerWidth<=768;export var showSpinnerNextVideo=function showSpinnerNextVideo(currentTime,endTime,duration,autoPlaylist){var fixEndTime=endTime>duration?duration:endTime;return currentTime>=fixEndTime&&duration!==0&&autoPlaylist;};export var findVideoClipIndexForId=function findVideoClipIndexForId(playlist,id){for(var i=0;i<playlist.length;i++){if(playlist[i].id===id){return i;}}return null;};export var findVideoClipForId=function findVideoClipForId(playlist,id){return playlist[findVideoClipIndexForId(playlist,id)];};export var isTypeEqual=function isTypeEqual(component1,component2){var type1=component1.type;var type2=component2.type;if(typeof type1===\"string\"||typeof type2===\"string\"){return type1===type2;}if(typeof type1===\"function\"){return type1===component2;}return false;};export function formatTime(){var secondsParam=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var guide=arguments.length>1&&arguments[1]!==undefined?arguments[1]:secondsParam;var seconds=Math.floor(secondsParam%60);var minutes=Math.floor(secondsParam/60%60);var hours=Math.floor(secondsParam/3600);var guideMinutes=Math.floor(guide/60%60);var guideHours=Math.floor(guide/3600);if(isNaN(secondsParam)||secondsParam===Infinity){hours=minutes=seconds=\"-\";}hours=hours>0||guideHours>0?hours<10?\"0\".concat(hours,\":\"):\"\".concat(hours,\":\"):\"\";minutes=\"\".concat((hours||guideMinutes>=10)&&minutes<10?\"0\".concat(minutes):minutes,\":\");seconds=seconds<10?\"0\".concat(seconds):seconds;return hours+minutes+seconds;}export var arrayShuffle=function arrayShuffle(array){var currentIndex=array.length;var temporaryValue;var randomIndex;while(0!==currentIndex){randomIndex=Math.floor(Math.random()*currentIndex);currentIndex-=1;temporaryValue=array[currentIndex];array[currentIndex]=array[randomIndex];array[randomIndex]=temporaryValue;}return array;};export function setStorage(key,value){if(key&&typeof value!==\"undefined\"){window.localStorage[key]=JSON.stringify(value);}}export function getStorage(key){var value=window.localStorage[key];return value?JSON.parse(value):undefined;}export function cleanDeprecatedStorage(name,version){Object.keys(window.localStorage).filter(function(keyStore){return keyStore.indexOf(name)>-1&&keyStore.indexOf(version)===-1;}).forEach(function(key){delete window.localStorage[key];});}export function copy(ob){return JSON.parse(JSON.stringify(ob));}export function convertToTimeRange(time,duration){if(isNaN(duration)||duration===0){return 0;}return Math.round(time)*1000/Math.round(duration);}export function convertToTime(time){var duration=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return Math.round(Math.round(time)*Math.round(duration)/1000);}export var formatTooltipRange=function formatTooltipRange(duration){return function(time){return formatTime(convertToTime(time,duration));};};export var getRandomArray=function getRandomArray(arr){return Math.floor(Math.random()*arr.length);};export var getPlaylistActions=function getPlaylistActions(index,playlist,repeat,random){var nextVideoClip;var backVideoClip;var currentVideoClip;if(index!==null){if(random){var newPlaylist=playlist.filter(function(videoClip,indexVideo){return index!==indexVideo;});nextVideoClip=newPlaylist[getRandomArray(newPlaylist)];}else{nextVideoClip=playlist[index+1];backVideoClip=playlist[index-1];if(repeat&&!nextVideoClip){nextVideoClip=playlist[0];}}currentVideoClip=playlist[index];return{backVideoClip:backVideoClip,currentVideoClip:currentVideoClip,nextVideoClip:nextVideoClip};}return{};};","map":{"version":3,"sources":["C:/gitHub/retube-reactApp/src/utils/index.ts"],"names":["isiOS","navigator","platform","test","isMobile","window","innerWidth","showSpinnerNextVideo","currentTime","endTime","duration","autoPlaylist","fixEndTime","findVideoClipIndexForId","playlist","id","i","length","findVideoClipForId","isTypeEqual","component1","component2","type1","type","type2","formatTime","secondsParam","guide","seconds","Math","floor","minutes","hours","guideMinutes","guideHours","isNaN","Infinity","arrayShuffle","array","currentIndex","temporaryValue","randomIndex","random","setStorage","key","value","localStorage","JSON","stringify","getStorage","parse","undefined","cleanDeprecatedStorage","name","version","Object","keys","filter","keyStore","indexOf","forEach","copy","ob","convertToTimeRange","time","round","convertToTime","formatTooltipRange","getRandomArray","arr","getPlaylistActions","index","repeat","nextVideoClip","backVideoClip","currentVideoClip","newPlaylist","videoClip","indexVideo"],"mappings":"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","sourcesContent":["import { IVideoClip } from \"../components/types\";\n\nexport const isiOS =\n  !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform);\n\nexport const isMobile = window.innerWidth <= 768;\n\nexport const showSpinnerNextVideo = (\n  currentTime,\n  endTime,\n  duration,\n  autoPlaylist\n) => {\n  const fixEndTime = endTime > duration ? duration : endTime;\n  return currentTime >= fixEndTime && duration !== 0 && autoPlaylist;\n};\n\nexport const findVideoClipIndexForId = (\n  playlist: IVideoClip[],\n  id: string\n): any => {\n  for (let i = 0; i < playlist.length; i++) {\n    if (playlist[i].id === id) {\n      return i;\n    }\n  }\n  return null;\n};\n\nexport const findVideoClipForId = (playlist: IVideoClip[], id): IVideoClip => {\n  return playlist[findVideoClipIndexForId(playlist, id)];\n};\n\nexport const isTypeEqual = (component1, component2) => {\n  const type1 = component1.type;\n  const type2 = component2.type;\n\n  if (typeof type1 === \"string\" || typeof type2 === \"string\") {\n    return type1 === type2;\n  }\n\n  if (typeof type1 === \"function\") {\n    return type1 === component2;\n  }\n\n  return false;\n};\n\nexport function formatTime(secondsParam = 0, guide = secondsParam) {\n  let seconds: any = Math.floor(secondsParam % 60);\n  let minutes: any = Math.floor((secondsParam / 60) % 60);\n  let hours: any = Math.floor(secondsParam / 3600);\n  const guideMinutes = Math.floor((guide / 60) % 60);\n  const guideHours = Math.floor(guide / 3600);\n\n  if (isNaN(secondsParam) || secondsParam === Infinity) {\n    hours = minutes = seconds = \"-\";\n  }\n\n  hours =\n    hours > 0 || guideHours > 0\n      ? hours < 10\n        ? `0${hours}:`\n        : `${hours}:`\n      : \"\";\n\n  minutes = `${\n    (hours || guideMinutes >= 10) && minutes < 10 ? `0${minutes}` : minutes\n  }:`;\n\n  seconds = seconds < 10 ? `0${seconds}` : seconds;\n\n  return hours + minutes + seconds;\n}\n\nexport const arrayShuffle = array => {\n  let currentIndex = array.length;\n  let temporaryValue;\n  let randomIndex;\n\n  while (0 !== currentIndex) {\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n\n  return array;\n};\n\nexport function setStorage(key, value) {\n  if (key && typeof value !== \"undefined\") {\n    window.localStorage[key] = JSON.stringify(value);\n  }\n}\n\nexport function getStorage(key) {\n  const value = window.localStorage[key];\n\n  return value ? JSON.parse(value) : undefined;\n}\n\nexport function cleanDeprecatedStorage(name, version) {\n  Object.keys(window.localStorage)\n    .filter(\n      keyStore =>\n        keyStore.indexOf(name) > -1 && keyStore.indexOf(version) === -1\n    )\n    .forEach((key: any) => {\n      delete window.localStorage[key];\n    });\n}\n\nexport function copy(ob: any) {\n  return JSON.parse(JSON.stringify(ob));\n}\n\nexport function convertToTimeRange(time, duration) {\n  if (isNaN(duration) || duration === 0) {\n    return 0;\n  }\n  return (Math.round(time) * 1000) / Math.round(duration);\n}\n\nexport function convertToTime(time, duration = 0) {\n  return Math.round((Math.round(time) * Math.round(duration)) / 1000);\n}\n\nexport const formatTooltipRange = (duration: number) => time => {\n  return formatTime(convertToTime(time, duration));\n};\n\nexport const getRandomArray = (arr: any[]) => {\n  return Math.floor(Math.random() * arr.length);\n};\n\nexport const getPlaylistActions = (\n  index: number,\n  playlist: IVideoClip[],\n  repeat: boolean,\n  random: boolean\n): {\n  currentVideoClip?: IVideoClip;\n  backVideoClip?: IVideoClip;\n  nextVideoClip?: IVideoClip;\n} => {\n  let nextVideoClip;\n  let backVideoClip;\n  let currentVideoClip;\n\n  if (index !== null) {\n    if (random) {\n      const newPlaylist = playlist.filter(\n        (videoClip, indexVideo) => index !== indexVideo\n      );\n\n      nextVideoClip = newPlaylist[getRandomArray(newPlaylist)];\n    } else {\n      nextVideoClip = playlist[index + 1];\n      backVideoClip = playlist[index - 1];\n\n      if (repeat && !nextVideoClip) {\n        nextVideoClip = playlist[0];\n      }\n    }\n\n    currentVideoClip = playlist[index];\n    return {\n      backVideoClip,\n      currentVideoClip,\n      nextVideoClip\n    };\n  }\n  return {};\n};\n"]},"metadata":{},"sourceType":"module"}