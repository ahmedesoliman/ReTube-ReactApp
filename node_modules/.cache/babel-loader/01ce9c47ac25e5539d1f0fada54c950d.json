{"ast":null,"code":"import _classCallCheck from\"C:/gitHub/retube-reactApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/gitHub/retube-reactApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/gitHub/retube-reactApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/gitHub/retube-reactApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import*as React from\"react\";var Shortcut=/*#__PURE__*/function(_React$Component){_inherits(Shortcut,_React$Component);var _super=_createSuper(Shortcut);function Shortcut(props){var _this;_classCallCheck(this,Shortcut);_this=_super.call(this,props);_this.handleKeycodes=void 0;_this.handleKeyPress=function(e){var isActive=_this.props.provider.isActive;if(!isActive){return;}var keyCode=e.keyCode||e.which;var shortcut=_this.handleKeycodes.filter(function(handle){if(!handle.keyCode||handle.keyCode-keyCode!==0){return false;}return true;})[0];if(shortcut){shortcut.handle();e.preventDefault();}};_this.togglePlay=function(){_this.props.video.togglePlay();};_this.leftArrow=function(){_this.props.video.replay(5);};_this.rightArrow=function(){_this.props.video.forward(5);};_this.upArrow=function(){var video=_this.props.video;var volume=video.volume+0.05;if(volume>1){volume=1;}video.volume=volume;_this.checkMuted();};_this.downArrow=function(){var video=_this.props.video;var volume=video.volume-0.05;if(volume<0){volume=0;}video.volume=volume;_this.checkMuted();};_this.handleKeycodes=[{handle:_this.togglePlay,keyCode:32// spacebar\n},{handle:_this.leftArrow,keyCode:37// Left arrow\n},{handle:_this.rightArrow,keyCode:39// Right arrow\n},{handle:_this.upArrow,keyCode:38// Up arrow\n},{handle:_this.downArrow,keyCode:40// Down arrow\n}];return _this;}_createClass(Shortcut,[{key:\"componentDidMount\",value:function componentDidMount(){document.addEventListener(\"keydown\",this.handleKeyPress);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){document.removeEventListener(\"keydown\",this.handleKeyPress);}},{key:\"checkMuted\",value:function checkMuted(){var video=this.props.video;if(video.volume===0){video.muted=true;}else{video.muted=false;}}},{key:\"render\",value:function render(){return null;}}]);return Shortcut;}(React.Component);export{Shortcut as default};","map":{"version":3,"sources":["C:/gitHub/retube-reactApp/src/components/FullVideo/Shortcut.tsx"],"names":["React","Shortcut","props","handleKeycodes","handleKeyPress","e","isActive","provider","keyCode","which","shortcut","filter","handle","preventDefault","togglePlay","video","leftArrow","replay","rightArrow","forward","upArrow","volume","checkMuted","downArrow","document","addEventListener","removeEventListener","muted","Component"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport Video from \"./Video\";\n\nimport { IPropsChildrens as IPropsFromPlayer } from \"./FullVideo\";\n\ninterface IProps extends IPropsFromPlayer {\n  video: Video;\n}\n\ninterface IHandleKeyCode {\n  handle: any;\n  keyCode: number;\n}\n\nexport default class Shortcut extends React.Component<IProps> {\n  public handleKeycodes: IHandleKeyCode[];\n\n  constructor(props) {\n    super(props);\n    this.handleKeycodes = [\n      {\n        handle: this.togglePlay,\n        keyCode: 32 // spacebar\n      },\n      {\n        handle: this.leftArrow,\n        keyCode: 37 // Left arrow\n      },\n      {\n        handle: this.rightArrow,\n        keyCode: 39 // Right arrow\n      },\n      {\n        handle: this.upArrow,\n        keyCode: 38 // Up arrow\n      },\n      {\n        handle: this.downArrow,\n        keyCode: 40 // Down arrow\n      }\n    ];\n  }\n\n  public componentDidMount() {\n    document.addEventListener(\"keydown\", this.handleKeyPress);\n  }\n\n  public componentWillUnmount() {\n    document.removeEventListener(\"keydown\", this.handleKeyPress);\n  }\n\n  public handleKeyPress = e => {\n    const { isActive } = this.props.provider\n\n    if (!isActive) {\n      return\n    }\n    const keyCode = e.keyCode || e.which;\n\n    const shortcut = this.handleKeycodes.filter(handle => {\n      if (!handle.keyCode || handle.keyCode - keyCode !== 0) {\n        return false;\n      }\n      return true;\n    })[0];\n\n    if (shortcut) {\n      shortcut.handle();\n      e.preventDefault();\n    }\n  };\n\n  public togglePlay = () => {\n    this.props.video.togglePlay();\n  };\n\n  public leftArrow = () => {\n    this.props.video.replay(5);\n  };\n\n  public rightArrow = () => {\n    this.props.video.forward(5);\n  };\n\n  public upArrow = () => {\n    const { video } = this.props;\n    let volume = video.volume + 0.05;\n    if (volume > 1) {\n      volume = 1;\n    }\n    video.volume = volume;\n    this.checkMuted();\n  };\n\n  public downArrow = () => {\n    const { video } = this.props;\n    let volume = video.volume - 0.05;\n    if (volume < 0) {\n      volume = 0;\n    }\n    video.volume = volume;\n    this.checkMuted();\n  };\n\n  public checkMuted() {\n    const { video } = this.props;\n    if (video.volume === 0) {\n      video.muted = true;\n    } else {\n      video.muted = false;\n    }\n  }\n\n  public render() {\n    return null;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}