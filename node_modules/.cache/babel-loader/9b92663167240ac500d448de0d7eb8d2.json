{"ast":null,"code":"import _objectSpread from\"C:/gitHub/retube-reactApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import*as React from\"react\";import{withRouter}from\"react-router\";import{FullVideo}from\"../../components\";import AppProvider from\"../../AppProvider\";import{findVideoClipIndexForId,getPlaylistActions}from\"../../utils\";import{MobileVideoStyled,MobileVideoCloseStyled}from\"./styles\";import{VideoPlayStyled}from\"../../components/VideoPlayer/styles\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MobileVideo=withRouter(function(props){var playlist=props.playlist,idVideo=props.idVideo,inFullPlayer=props.inFullPlayer,autoPlaylist=props.autoPlaylist,setAutoPlaylist=props.setAutoPlaylist,repeat=props.repeat,random=props.random;var showControls=inFullPlayer;var changeVideo=function changeVideo(id){props.history.push(\"/video/\"+id);};var handlePlaylistAction=function handlePlaylistAction(videoClip){changeVideo(videoClip.id);};var handleClick=function handleClick(){if(!showControls){changeVideo(props.idVideo);}};var handleClose=function handleClose(){props.setIdVideo(\"\");};var propsFullVideo={autoPlay:true,onChangeAutoPlaylist:setAutoPlaylist,onClickPlaylistAction:handlePlaylistAction,showControls:showControls};if(idVideo!==\"\"){var index=findVideoClipIndexForId(playlist,idVideo);var _getPlaylistActions=getPlaylistActions(index,playlist,repeat,random),nextVideoClip=_getPlaylistActions.nextVideoClip,backVideoClip=_getPlaylistActions.backVideoClip,currentVideoClip=_getPlaylistActions.currentVideoClip;propsFullVideo.autoPlaylist=nextVideoClip?autoPlaylist:false;propsFullVideo.currentVideoClip=currentVideoClip;propsFullVideo.backVideoClip=backVideoClip;propsFullVideo.nextVideoClip=nextVideoClip;}return/*#__PURE__*/_jsxs(MobileVideoStyled,{top:inFullPlayer,hidden:idVideo===\"\",children:[/*#__PURE__*/_jsx(MobileVideoCloseStyled,{onClick:handleClose,children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\"})}),/*#__PURE__*/_jsx(VideoPlayStyled,{onClick:handleClick,children:/*#__PURE__*/_jsx(FullVideo,_objectSpread({},propsFullVideo))})]});});export default(function(){return/*#__PURE__*/_jsx(AppProvider.Consumer,{children:function children(value){return/*#__PURE__*/_jsx(MobileVideo,_objectSpread({},value));}});});","map":{"version":3,"sources":["C:/gitHub/retube-reactApp/src/container/MobileVideo/MobileVideo.tsx"],"names":["React","withRouter","FullVideo","AppProvider","findVideoClipIndexForId","getPlaylistActions","MobileVideoStyled","MobileVideoCloseStyled","VideoPlayStyled","MobileVideo","props","playlist","idVideo","inFullPlayer","autoPlaylist","setAutoPlaylist","repeat","random","showControls","changeVideo","id","history","push","handlePlaylistAction","videoClip","handleClick","handleClose","setIdVideo","propsFullVideo","autoPlay","onChangeAutoPlaylist","onClickPlaylistAction","index","nextVideoClip","backVideoClip","currentVideoClip","value"],"mappings":"+IAAA,MAAO,GAAKA,CAAAA,KAAZ,KAAuB,OAAvB,CAEA,OAASC,UAAT,KAA2B,cAA3B,CACA,OAASC,SAAT,KAAuD,kBAAvD,CACA,MAAOC,CAAAA,WAAP,KAA0C,mBAA1C,CAEA,OAEEC,uBAFF,CAGEC,kBAHF,KAIO,aAJP,CAKA,OAASC,iBAAT,CAA4BC,sBAA5B,KAA0D,UAA1D,CACA,OAASC,eAAT,KAAgC,qCAAhC,C,wFAIA,GAAMC,CAAAA,WAAW,CAAGR,UAAU,CAAC,SAACS,KAAD,CAAmB,CAChD,GACEC,CAAAA,QADF,CAQID,KARJ,CACEC,QADF,CAEEC,OAFF,CAQIF,KARJ,CAEEE,OAFF,CAGEC,YAHF,CAQIH,KARJ,CAGEG,YAHF,CAIEC,YAJF,CAQIJ,KARJ,CAIEI,YAJF,CAKEC,eALF,CAQIL,KARJ,CAKEK,eALF,CAMEC,MANF,CAQIN,KARJ,CAMEM,MANF,CAOEC,MAPF,CAQIP,KARJ,CAOEO,MAPF,CASA,GAAMC,CAAAA,YAAY,CAAGL,YAArB,CAEA,GAAMM,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,EAAD,CAAgB,CAClCV,KAAK,CAACW,OAAN,CAAcC,IAAd,CAAmB,UAAYF,EAA/B,EACD,CAFD,CAIA,GAAMG,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAACC,SAAD,CAA2B,CACtDL,WAAW,CAACK,SAAS,CAACJ,EAAX,CAAX,CACD,CAFD,CAIA,GAAMK,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxB,GAAI,CAACP,YAAL,CAAmB,CACjBC,WAAW,CAACT,KAAK,CAACE,OAAP,CAAX,CACD,CACF,CAJD,CAMA,GAAMc,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxBhB,KAAK,CAACiB,UAAN,CAAiB,EAAjB,EACD,CAFD,CAIA,GAAMC,CAAAA,cAA+B,CAAG,CACtCC,QAAQ,CAAE,IAD4B,CAEtCC,oBAAoB,CAAEf,eAFgB,CAGtCgB,qBAAqB,CAAER,oBAHe,CAItCL,YAAY,CAAZA,YAJsC,CAAxC,CAOA,GAAIN,OAAO,GAAK,EAAhB,CAAoB,CAClB,GAAMoB,CAAAA,KAAK,CAAG5B,uBAAuB,CAACO,QAAD,CAAWC,OAAX,CAArC,CACA,wBAIIP,kBAAkB,CAAC2B,KAAD,CAAQrB,QAAR,CAAkBK,MAAlB,CAA0BC,MAA1B,CAJtB,CACEgB,aADF,qBACEA,aADF,CAEEC,aAFF,qBAEEA,aAFF,CAGEC,gBAHF,qBAGEA,gBAHF,CAMAP,cAAc,CAACd,YAAf,CAA8BmB,aAAa,CAAGnB,YAAH,CAAkB,KAA7D,CACAc,cAAc,CAACO,gBAAf,CAAkCA,gBAAlC,CACAP,cAAc,CAACM,aAAf,CAA+BA,aAA/B,CACAN,cAAc,CAACK,aAAf,CAA+BA,aAA/B,CACD,CAED,mBACE,MAAC,iBAAD,EAAmB,GAAG,CAAEpB,YAAxB,CAAsC,MAAM,CAAED,OAAO,GAAK,EAA1D,wBACE,KAAC,sBAAD,EAAwB,OAAO,CAAEc,WAAjC,uBACE,UAAG,SAAS,CAAC,cAAb,EADF,EADF,cAIE,KAAC,eAAD,EAAiB,OAAO,CAAED,WAA1B,uBACE,KAAC,SAAD,kBAAeG,cAAf,EADF,EAJF,GADF,CAUD,CA7D6B,CAA9B,CA+DA,eAAe,8BACb,KAAC,WAAD,CAAa,QAAb,WACG,kBAACQ,KAAD,qBAAyB,KAAC,WAAD,kBAAiBA,KAAjB,EAAzB,EADH,EADa,EAAf","sourcesContent":["import * as React from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\nimport { withRouter } from \"react-router\";\nimport { FullVideo, IFullVideoProps, IVideoClip } from \"../../components\";\nimport AppProvider, { IAppProvider } from \"../../AppProvider\";\n\nimport {\n  findVideoClipForId,\n  findVideoClipIndexForId,\n  getPlaylistActions\n} from \"../../utils\";\nimport { MobileVideoStyled, MobileVideoCloseStyled } from \"./styles\";\nimport { VideoPlayStyled } from \"../../components/VideoPlayer/styles\";\n\ninterface IProps extends RouteComponentProps<any>, IAppProvider {}\n\nconst MobileVideo = withRouter((props: IProps) => {\n  const {\n    playlist,\n    idVideo,\n    inFullPlayer,\n    autoPlaylist,\n    setAutoPlaylist,\n    repeat,\n    random\n  } = props;\n  const showControls = inFullPlayer;\n\n  const changeVideo = (id: string) => {\n    props.history.push(\"/video/\" + id);\n  };\n\n  const handlePlaylistAction = (videoClip: IVideoClip) => {\n    changeVideo(videoClip.id);\n  };\n\n  const handleClick = () => {\n    if (!showControls) {\n      changeVideo(props.idVideo);\n    }\n  };\n\n  const handleClose = () => {\n    props.setIdVideo(\"\");\n  };\n\n  const propsFullVideo: IFullVideoProps = {\n    autoPlay: true,\n    onChangeAutoPlaylist: setAutoPlaylist,\n    onClickPlaylistAction: handlePlaylistAction,\n    showControls\n  };\n\n  if (idVideo !== \"\") {\n    const index = findVideoClipIndexForId(playlist, idVideo);\n    const {\n      nextVideoClip,\n      backVideoClip,\n      currentVideoClip\n    } = getPlaylistActions(index, playlist, repeat, random);\n\n    propsFullVideo.autoPlaylist = nextVideoClip ? autoPlaylist : false;\n    propsFullVideo.currentVideoClip = currentVideoClip;\n    propsFullVideo.backVideoClip = backVideoClip;\n    propsFullVideo.nextVideoClip = nextVideoClip;\n  }\n\n  return (\n    <MobileVideoStyled top={inFullPlayer} hidden={idVideo === \"\"}>\n      <MobileVideoCloseStyled onClick={handleClose}>\n        <i className=\"fas fa-times\" />\n      </MobileVideoCloseStyled>\n      <VideoPlayStyled onClick={handleClick}>\n        <FullVideo {...propsFullVideo} />\n      </VideoPlayStyled>\n    </MobileVideoStyled>\n  );\n});\n\nexport default () => (\n  <AppProvider.Consumer>\n    {(value: IAppProvider) => <MobileVideo {...value} />}\n  </AppProvider.Consumer>\n);\n"]},"metadata":{},"sourceType":"module"}