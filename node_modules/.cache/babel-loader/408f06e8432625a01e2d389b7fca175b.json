{"ast":null,"code":"import _classCallCheck from\"C:/gitHub/retube-reactApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/gitHub/retube-reactApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/gitHub/retube-reactApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/gitHub/retube-reactApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import*as React from\"react\";import Slider,{createSliderWithTooltip}from\"rc-slider\";import{VolumeIcon,VolumenMenuButtonStyled,VolumenMenuWrapperStyled}from\"./styles\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SliderWithTooltip=createSliderWithTooltip(Slider);function tipFormatter(value){return value+\"%\";}var VolumenMenuButton=/*#__PURE__*/function(_React$Component){_inherits(VolumenMenuButton,_React$Component);var _super=_createSuper(VolumenMenuButton);function VolumenMenuButton(){var _this;_classCallCheck(this,VolumenMenuButton);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={value:100};_this.handleChange=function(value){_this.setState({value:value});_this.props.video.volume=value?value/100:value;_this.checkMuted();};_this.handleClickVolume=function(){if(_this.state.value>1){_this.handleChange(0);}else{_this.handleChange(100);}};return _this;}_createClass(VolumenMenuButton,[{key:\"value\",get:function get(){var value=this.state.value;if(!this.props.video){return value;}return this.props.video.volume*100;}},{key:\"checkMuted\",value:function checkMuted(){var video=this.props.video;if(video.volume===0){video.muted=true;}else{video.muted=false;}}},{key:\"classVolumeIcon\",value:function classVolumeIcon(){var volume=this.value;var variant;if(volume>70){variant=\"volume-up\";}else if(volume>20){variant=\"volume-down\";}else{variant=\"volume-off\";}return\"fas fa-\"+variant;}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(VolumenMenuWrapperStyled,{children:[/*#__PURE__*/_jsx(\"div\",{onClick:this.handleClickVolume,children:/*#__PURE__*/_jsx(VolumeIcon,{children:/*#__PURE__*/_jsx(\"i\",{className:this.classVolumeIcon()})})}),/*#__PURE__*/_jsx(VolumenMenuButtonStyled,{tabIndex:0,children:/*#__PURE__*/_jsx(SliderWithTooltip,{max:100,className:\"mark-volume\",tipFormatter:tipFormatter,value:this.value,onChange:this.handleChange})})]});}}]);return VolumenMenuButton;}(React.Component);export{VolumenMenuButton as default};","map":{"version":3,"sources":["C:/gitHub/retube-reactApp/src/components/FullVideo/VolumeMenuButton.tsx"],"names":["React","Slider","createSliderWithTooltip","VolumeIcon","VolumenMenuButtonStyled","VolumenMenuWrapperStyled","SliderWithTooltip","tipFormatter","value","VolumenMenuButton","state","handleChange","setState","props","video","volume","checkMuted","handleClickVolume","muted","variant","classVolumeIcon","Component"],"mappings":"gjBAAA,MAAO,GAAKA,CAAAA,KAAZ,KAAuB,OAAvB,CACA,MAAOC,CAAAA,MAAP,EAAiBC,uBAAjB,KAAgD,WAAhD,CAKA,OACEC,UADF,CAEEC,uBAFF,CAGEC,wBAHF,KAIO,UAJP,C,wFAMA,GAAMC,CAAAA,iBAAiB,CAAGJ,uBAAuB,CAACD,MAAD,CAAjD,CAUA,QAASM,CAAAA,YAAT,CAAsBC,KAAtB,CAA6B,CAC3B,MAAOA,CAAAA,KAAK,CAAG,GAAf,CACD,C,GAEoBC,CAAAA,iB,mXACZC,K,CAAQ,CACbF,KAAK,CAAE,GADM,C,OAYRG,Y,CAAe,SAACH,KAAD,CAAgB,CACpC,MAAKI,QAAL,CAAc,CAAEJ,KAAK,CAALA,KAAF,CAAd,EACA,MAAKK,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAA0BP,KAAK,CAAGA,KAAK,CAAG,GAAX,CAAiBA,KAAhD,CACA,MAAKQ,UAAL,GACD,C,OAwBMC,iB,CAAoB,UAAM,CAC/B,GAAI,MAAKP,KAAL,CAAWF,KAAX,CAAmB,CAAvB,CAA0B,CACxB,MAAKG,YAAL,CAAkB,CAAlB,EACD,CAFD,IAEO,CACL,MAAKA,YAAL,CAAkB,GAAlB,EACD,CACF,C,gEA1CD,cAAY,CACV,GAAQH,CAAAA,KAAR,CAAkB,KAAKE,KAAvB,CAAQF,KAAR,CACA,GAAI,CAAC,KAAKK,KAAL,CAAWC,KAAhB,CAAuB,CACrB,MAAON,CAAAA,KAAP,CACD,CACD,MAAO,MAAKK,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAA0B,GAAjC,CACD,C,0BAQD,qBAAoB,CAClB,GAAQD,CAAAA,KAAR,CAAkB,KAAKD,KAAvB,CAAQC,KAAR,CACA,GAAIA,KAAK,CAACC,MAAN,GAAiB,CAArB,CAAwB,CACtBD,KAAK,CAACI,KAAN,CAAc,IAAd,CACD,CAFD,IAEO,CACLJ,KAAK,CAACI,KAAN,CAAc,KAAd,CACD,CACF,C,+BAED,0BAAyB,CACvB,GAAMH,CAAAA,MAAM,CAAG,KAAKP,KAApB,CACA,GAAIW,CAAAA,OAAJ,CACA,GAAIJ,MAAM,CAAG,EAAb,CAAiB,CACfI,OAAO,CAAG,WAAV,CACD,CAFD,IAEO,IAAIJ,MAAM,CAAG,EAAb,CAAiB,CACtBI,OAAO,CAAG,aAAV,CACD,CAFM,IAEA,CACLA,OAAO,CAAG,YAAV,CACD,CACD,MAAO,UAAYA,OAAnB,CACD,C,sBAUD,iBAAgB,CACd,mBACE,MAAC,wBAAD,yBACE,YAAK,OAAO,CAAE,KAAKF,iBAAnB,uBACE,KAAC,UAAD,wBACE,UAAG,SAAS,CAAE,KAAKG,eAAL,EAAd,EADF,EADF,EADF,cAME,KAAC,uBAAD,EAAyB,QAAQ,CAAE,CAAnC,uBACE,KAAC,iBAAD,EACE,GAAG,CAAE,GADP,CAEE,SAAS,CAAC,aAFZ,CAGE,YAAY,CAAEb,YAHhB,CAIE,KAAK,CAAE,KAAKC,KAJd,CAKE,QAAQ,CAAE,KAAKG,YALjB,EADF,EANF,GADF,CAkBD,C,+BApE4CX,KAAK,CAACqB,S,SAAhCZ,iB","sourcesContent":["import * as React from \"react\";\nimport Slider, { createSliderWithTooltip } from \"rc-slider\";\nimport Video from \"./Video\";\n\nimport { IPropsChildrens as IPropsFromPlayer } from \"./FullVideo\";\n\nimport {\n  VolumeIcon,\n  VolumenMenuButtonStyled,\n  VolumenMenuWrapperStyled,\n} from \"./styles\";\n\nconst SliderWithTooltip = createSliderWithTooltip(Slider);\n\ninterface IState {\n  value: number;\n}\n\ninterface IProps extends IPropsFromPlayer {\n  video: Video;\n}\n\nfunction tipFormatter(value) {\n  return value + \"%\";\n}\n\nexport default class VolumenMenuButton extends React.Component<IProps, IState> {\n  public state = {\n    value: 100,\n  };\n\n  get value() {\n    const { value } = this.state;\n    if (!this.props.video) {\n      return value;\n    }\n    return this.props.video.volume * 100;\n  }\n\n  public handleChange = (value: any) => {\n    this.setState({ value });\n    this.props.video.volume = value ? value / 100 : value;\n    this.checkMuted();\n  };\n\n  public checkMuted() {\n    const { video } = this.props;\n    if (video.volume === 0) {\n      video.muted = true;\n    } else {\n      video.muted = false;\n    }\n  }\n\n  public classVolumeIcon() {\n    const volume = this.value;\n    let variant;\n    if (volume > 70) {\n      variant = \"volume-up\";\n    } else if (volume > 20) {\n      variant = \"volume-down\";\n    } else {\n      variant = \"volume-off\";\n    }\n    return \"fas fa-\" + variant;\n  }\n\n  public handleClickVolume = () => {\n    if (this.state.value > 1) {\n      this.handleChange(0);\n    } else {\n      this.handleChange(100);\n    }\n  };\n\n  public render() {\n    return (\n      <VolumenMenuWrapperStyled>\n        <div onClick={this.handleClickVolume}>\n          <VolumeIcon>\n            <i className={this.classVolumeIcon()} />\n          </VolumeIcon>\n        </div>\n        <VolumenMenuButtonStyled tabIndex={0}>\n          <SliderWithTooltip\n            max={100}\n            className=\"mark-volume\"\n            tipFormatter={tipFormatter}\n            value={this.value}\n            onChange={this.handleChange}\n          />\n        </VolumenMenuButtonStyled>\n      </VolumenMenuWrapperStyled>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}